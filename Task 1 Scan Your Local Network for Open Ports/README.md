
# Task 1: Scan Your Local Network for Open Ports

## Objective
Learn to discover open ports on devices in your local network to understand network exposure.

## Tools Used
*   **Nmap:** For network scanning and port discovery.
*   **Wireshark:** For packet analysis (optional, but used here to observe scan traffic).
*   **Kali Linux:** Operating system environment.

## My Environment Setup
*   **Scanning Machine (Kali Linux):** IP Address `192.168.1.5` (on `eth0` interface)
*   **Target Network Range:** `192.168.1.0/24` ( shown in `task 2` )

## Steps Taken

### 1. Nmap Installation
Nmap was already installed on the Kali Linux system. The version is 7.95.
```bash
sudo apt install nmap
```
<img src="/Task 1 Scan Your Local Network for Open Ports//Images/Image1.png">

### 2. Identifying Local IP Range
The local IP address of the Kali machine was identified using `ifconfig`:
```bash
ifconfig
nmap -sn 192.168.1.5/24
```
<img src="/Task 1 Scan Your Local Network for Open Ports//Images/Image2.png">

### 3.  Connected Devices Scan

```bash
sudo nmap -sn 192.168.1.5/24
```

<img src="/Task 1 Scan Your Local Network for Open Ports//Images/Image3.png">

A copy of scan is saved in **scan_result.txt**

### 4. Packet Capture with Wireshark
Wireshark was run concurrently on the `eth0` interface of the Kali machine (`192.168.1.5`) to capture and observe the network packets generated by the Nmap scan.

<img src="/Task 1 Scan Your Local Network for Open Ports//Images/Image4.png">
<img src="/Task 1 Scan Your Local Network for Open Ports/Images/Image5.png">

## Scan Results Summary

Nmap scanned 256 IP addresses and identified 4 active hosts.

### Active Hosts Found:
1. 192.168.1.3 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
2. 192.168.1.4 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
3. 192.168.1.5 (Kali Linux - Scanning machine itself, PCS Systemtechnik/Oracle VirtualBox virtual NIC)
4. 192.168.1.6 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

### Detailed Findings for `192.168.1.4`
This host was found to have numerous open ports, indicating multiple services running. This is characteristic of a test machine like Metasploitable.
**Key open ports and services identified:**
*   **21/tcp:** open ftp
*   **22/tcp:** open ssh
*   **23/tcp:** open telnet
*   **25/tcp:** open smtp
*   **53/tcp:** open domain
*   **80/tcp:** open http
*   **111/tcp:** open rpcbind
*   **139/tcp:** open netbios-ssn
*   **445/tcp:** open microsoft-ds (SMB)
*   **512/tcp:** open exec
*   **513/tcp:** open login
*   **514/tcp:** open shell
*   **1099/tcp:** open rmiregistry
*   **1524/tcp:** open ingreclock
*   **2049/tcp:** open nfs
*   **2121/tcp:** open ccproxy-ftp
*   **3306/tcp:** open mysql
*   **5432/tcp:** open postgresql
*   **5900/tcp:** open vnc
*   **6000/tcp:** open X11
*   **6667/tcp:** open irc
*   **8009/tcp:** open ajp13
*   **8180/tcp:** open unknown (likely http-alt, e.g., Tomcat)

### Findings for Other Hosts
*   **`192.168.1.3`:** All 1000 scanned ports were in "ignored states," reported as "filtered (proto-unreach)". This suggests a firewall or the host is configured not to respond in a way that Nmap can definitively determine port state with a Null scan.
*   **`192.168.1.5` (Kali Machine):** All 1000 scanned ports were in "ignored states," with Nmap reporting them as "closed (reset)". This is expected for a client machine not intentionally running many services.
*   **`192.168.1.6`:** All 1000 scanned ports were in "ignored states," reported as "filtered (no-response)". This indicates packets were likely dropped, possibly by a firewall.

## Security Observations & Risks Identified (Primarily for `192.168.1.4`)

The host `192.168.1.4` presents a significant attack surface due to the large number of open ports and the nature of the services:

*   **Unencrypted Services:**
    *   **Telnet (23/tcp):** Transmits credentials in plaintext.
    *   **FTP (21/tcp):** Transmits credentials and data in plaintext.
    *   **HTTP (80/tcp):** Web traffic is unencrypted.
    *   **IRC (6667/tcp):** Typically unencrypted.
*   **Remote Access Services:**
    *   **SSH (22/tcp):** Secure if properly configured, but a target.
    *   **VNC (5900/tcp):** Remote desktop, potential for unauthorized access if weak credentials are used.
    *   **Shell/Login/Exec (512, 513, 514/tcp):** Older, less secure remote access methods (r-services).
*   **Database Services:**
    *   **MySQL (3306/tcp)**
    *   **PostgreSQL (5432/tcp)**
    These could be vulnerable to brute-force attacks, exploits if unpatched, or misconfigurations.
*   **File Sharing Services:**
    *   **NFS (2049/tcp):** Can be misconfigured to allow unauthorized file access.
    *   **microsoft-ds (445/tcp) / netbios-ssn (139/tcp):** SMB/CIFS services, historically prone to vulnerabilities (e.g., EternalBlue).


**General Risks from Open Ports:**
*   Increased exposure to automated scanning and targeted attacks.
*   Vulnerable services can be exploited for remote code execution, denial of service, or information disclosure.
*   Misconfigured services or weak credentials can lead to unauthorized access.

## Wireshark Analysis

*   Observed TCP packets with no flags set (Null scan characteristic) being sent from the Kali machine (`192.168.1.5`) to various ports on target hosts (e.g., `192.168.1.4`).
*   For `192.168.1.4`, responses varied depending on the port. For open ports (as per Nmap output), a Null scan typically elicits no response if the port is open on a compliant system. If the port is closed, a TCP RST packet is usually sent back.
*   For `192.168.1.5` (the Kali host itself), RST packets was observed in response to the probes, leading to the "closed" state.
*   ARP requests and replies were also observed as Nmap discovered active hosts on the local segment.